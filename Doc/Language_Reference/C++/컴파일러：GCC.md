# 컴파일러：GCC

## 옵션

### -static：라이브러리를 정적으로 링크합니다.

```bash
g++ -static -static-libstdc++ main.cpp -o myprogram
```

- 컴파일러에게 모든 라이브러리를 정적으로 링크하도록 지시
- 이 옵션을 사용하면 실행 파일 크기가 커지지만, 운영 체제에 동일한 라이브러리가 설치되어 있지 않아도 프로그램이 실행될 수 있슴

- 단점

  - 프로그램 크기 증가: 정적 라이브러리를 사용하면 실행 파일 크기가 크게 증가할 수 있슴
  - 라이브러리 업데이트: 정적 라이브러리를 사용하면 라이브러리 업데이트 시 프로그램을 다시 컴파일해야 필요

- 장점

  - 운영 체제 의존성 감소: 정적 라이브러리를 사용하면 프로그램 실행에 필요한 모든 라이브러리가 실행 파일에 포함되어 있어 운영 체제에 동일한 라이브러리가 설치되어 있지 않아도 프로그램을 실행
  - 보안 강화: 정적 라이브러리를 사용하면 공유 라이브러리 공격과 같은 보안 취약점에 대한 위험을 줄일 수 있음
  - 성능 향상: 정적 라이브러리를 사용하면 프로그램 실행 속도를 향상시킬 수 있음

### -static-libstdc++：C++ 표준 라이브러리(libstdc++)를 정적으로 링크합니다.

```bash
g++ -static -static-libstdc++ main.cpp -o myprogram
```

- C++ 표준 라이브러리(libstdc++)를 정적으로 링크하도록 지시.
- 이 옵션은 -static 옵션과 함께 사용

### -l：특정 라이브러리를 정적 링크합니다

```bash
$ g++ <INPUT_NAME> -l<LIBRARY_NAME> -o <OUTPUT_NAME>
$ g++ <input.cpp> -lstdc++ -o <output.exe>
```

- 컴파일러에게 특정 라이브러리를 링크하도록 지시.
- 옵션 뒤에 라이브러리 이름을 지정. 예를 들어, -lstdc++은 C++ 표준 라이브러리를 링크.
- 뒤에 오는 라이브러리 이름은 관례에 따라 lib 접두사와 .a 확장자를 가진 정적 라이브러리 파일명

### { -Wl | –whole-archive }：모든 라이브러리를 정적 링크합니다

```bash
$ g++ <main.cpp> -lstdc++ { -Wl | -whole-archive } my_lib.a -o <myprogram.exe>
```

- 컴파일러에게 라이브러리에 있는 모든 객체 파일을 링크하도록 지시
- 이 옵션을 사용하면 라이브러리에 있는 모든 함수가 사용될 수 있음
